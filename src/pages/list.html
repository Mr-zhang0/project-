<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link rel="stylesheet" href="../sass/common.css" />
    <link rel="stylesheet" href="../sass/list.css" />
    <script src="../lib/page.js"></script>
    <link rel="stylesheet" href="font/iconfont.css" />
  </head>
  <body>
    <header>
      <div id="top">
        <div class="top_nav">
          <p class="iconfont icon-wuzi"><a href="">天猫首页</a></p>
          <p class="left_nav"><a href="">喵，欢迎来天猫</a></p>
          <p class="left_nav_register"><a href="请登录">请登录</a></p>
          <p class="left_nav_enroll"><a href="免费注册">免费注册</a></p>
          <ul class="sn_menu">
            <li>
              <a href="">我的淘宝 <i class="iconfont icon-sanjiaoxing"></i> </a>
            </li>
            <li>
              <a href="">
                <i class="iconfont icon-aixin_shixin"></i>我关注的品牌
              </a>
            </li>
            <li>
              <a href=""> <i class="iconfont icon-gouwuche1"></i> 购物车</a>
            </li>
            <li>
              <a href="">收藏夹 </a> <i class="iconfont icon-sanjiaoxing"></i>
            </li>
            <li><a href="">淘宝网</a></li>
            <li><a href="">企业购</a></li>
            <li>
              <a href=""> <i class="iconfont icon-daohang"></i>网站导航</a
              ><i class="iconfont icon-sanjiaoxing"></i>
            </li>
          </ul>
        </div>
        <section class="search">
          <h1><img src="images/TB-26.png" alt="" /></h1>
          <ul class="search_frame">
            <span
              ><input type="text" placeholder="耳机" /><i
                ><a href="">搜索</a>
              </i></span
            >
          </ul>
          <ul class="search_keyword">
            <li><a href="">r70x</a></li>
            <li><a href="">新品</a></li>
            <li><a href="">耳机</a></li>
            <li><a href="">耳麦</a></li>
            <li><a href="">小米</a></li>
            <li><a href="">羽绒服</a></li>
            <li><a href="">iphone</a></li>
            <li><a href="">华为</a></li>
            <li><a href="">连衣裙</a></li>
            <li><a href="">沙发</a></li>
            <li><a href="">窗帘</a></li>
            <li><a href="">零食</a></li>
            <li><a href="">床垫</a></li>
            <li><a href="">茶几</a></li>
            <li><a href="">风扇</a></li>
            <li><a href="">电脑椅</a></li>
          </ul>
        </section>
        <div class="think">
          <ul>
            <p>你是不是想找:</p>
            <li><a href="">连衣裙</a></li>
            <li><a href="">沙发</a></li>
            <li><a href="">窗帘</a></li>
            <li><a href="">零食</a></li>
            <li><a href="">床垫</a></li>
            <li><a href="">茶几</a></li>
            <li><a href="">耳机</a></li>
            <li><a href="">风扇</a></li>
            <li><a href="">电脑椅</a></li>
            <li><a href="">椅子</a></li>
            <li><a href="">拉杆箱</a></li>
            <li><a href="">男鞋</a></li>
            <li><a href="">电风扇</a></li>
            <li><a href="">鞋柜</a></li>
            <li><a href=""> 客厅灯</a></li>
            <li><a href="">女包</a></li>
            <li><a href="">电脑桌</a></li>
            <li><a href="">衣柜</a></li>
            <li><a href="">凉席</a></li>
            <li><a href="">浴室柜</a></li>
          </ul>
        </div>
      </div>
    </header>
    <main>
      <!-- <div id="commodity">
      <div class="commodity_list">
                <div class="img_link">
                    <img src="images/O1.jpg" alt="">
                </div>
                <div class="info">
                    <p class="pice">
                        <i class="pricedetail">
                            ￥
                        </i>
                        <strong>99.00</strong>
                        <i class="postalicon">包邮</i>
                    </p>
                    <p class="title"><a href="">HP/惠普H200电脑<font class="h1">耳机</font>头戴式电竞游戏</a></p>
                    <li class="shop_name">
                        <p class="shop_nick"> <a href="">hp惠普志仕专卖店</a> </p>
                        <p class="pay_num"> <a href="">201人付款</a> </p>
                    </li>
                    <div class="more_info">
                        <p class="icon"></p>
                      <div class="dsr_info">
                        <li class="active dsr-info-tgr">
                            <p class="icon-btn-dsr">如实描述:</p>
                            <p class="dsr-info-num">4.8</p>
                            <p class="dropdown-tgr-arrow"></p>
                        </li>
                        <ul class="dsr-info-list">
                            <li>
                                <p class="morethan">如实描述:<b>4.8</b></p>
                                <p class="listup-tgr-arrow"></p>
                            </li>
                            <li>
                                <p class="morethan">如实描述:<b>4.8</b></p>
                                <p class="listup-tgr-arrow"></p>
                            </li>
                            <li>
                                <p class="morethan">如实描述:<b>4.8</b></p>
                                <p class="listup-tgr-arrow"></p>
                            </li>
                            <span>加入购物车</span>
                      </div>

                    </div>
                </div>
            
            </div> 
      </div> -->
      <div class="banner"></div>
      <!--头部banner制作 end-->
      <!--商品列表区域 start-->
      <div id="par_list">
        <ul id="box">
          <!-- <li>
            <img src="images/1.jpg" width="220" height="220" alt="美女" />
            <p class="title">2015夏季新品海澜之家男装正品1</p>
            <p class="jg"><font>￥193.0</font><span>加入购物车</span></p>
          </li>
          <li>
            <img src="images/2.jpg" width="220" height="220" alt="美女" />
            <p class="title">2015夏季新品海澜之家男装正品2</p>
            <p class="jg"><font>￥175.0</font><span>加入购物车</span></p>
          </li>
          <li>
            <img src="images/3.jpg" width="220" height="220" alt="美女" />
            <p class="title">2015夏季新品海澜之家男装正品3</p>
            <p class="jg"><font>￥389.0</font><span>加入购物车</span></p>
          </li>
          <li>
            <img src="images/4.jpg" width="220" height="220" alt="美女" />
            <p class="title">2015夏季新品海澜之家男装正品4</p>
            <p class="jg"><font>￥499.0</font><span>加入购物车</span></p>
          </li> -->
        </ul>
      </div>
      <div class="carbox">
        <div class="left"><span>加入购物车</span></div>
        <div class="con">
          <!--<dl>
                <dt><img src="images/1.jpg" width="60" height="60" alt="美女" /></dt>
                <dd class="ti">2015夏季新品海澜之家男装正品1</dd>
                <dd class="money">￥193.0</dd>
                </dl>-->
        </div>
      </div>
    </main>
    <script>
      var lb = document.getElementById("lunbo");
      var num = 1;

      // 自动换图
      setInterval(function() {
        num++;
        if (num == 6) {
          num = 1;
        }
        lb.src = "images/" + num + ".jpg";
        // console.log(num)
      }, 3000);
      var left = document.getElementById("left");
      var right = document.getElementById("right");

      // 点击左箭头换图
      left.onclick = function() {
        num--;
        if (num == 0) {
          num = 1;
        }
        lb.src = "images/" + num + ".jpg";
      };

      // 点击右键换箭头
      right.onclick = function() {
        num++;
        if (num == 6) {
          num = 5;
        }
        lb.src = "images/" + num + ".jpg";
      };

      // 点击圆点换图
      var allLi = document
        .getElementsByClassName("ul_dian")[0]
        .getElementsByClassName("list");
      // console.log(allLi);

      for (var i = 0; i < allLi.length; i++) {
        // 给每个li元素赋值，每循环一次，i+1;
        allLi[i].index = i;
        allLi[i].onclick = function() {
          // li的索引是从0开始的，所以要+1
          var num = this.index + 1;
          lb.src = "images/" + num + ".jpg";
        };
      }
    </script>
    <script>
      var div = document.getElementById("box");
      var res = list
        .map(function(item, index) {
          return `
			<li>
				<img src="${item.img}" width="220" height="220" alt="美女" />
				<p class="title">${item.text}</p>
                <p class="jg"><font>${item.price}</font>
                <span>加入购物车</span></p>
			</li>
	`;
        })
        .join("");
      div.innerHTML = res;
      var commodity_list = document.getElementsByClassName("commodity_list");
      for (var i = 0; i < commodity_list.length; i++) {
        commodity_list[i].onclick = function() {
          var id = this.getAttribute("idx");
          window.location.href = "deta.html?id=" + id;
          console.log(this);
        };
      }
    </script>
    <script src="../js/jquery.js"></script>
    <script src="../js/tz_fly.js"></script>
    <script>
      var k = 0;
      $(".carbox .left span").click(function() {
        if (k == 0) {
          $(".carbox").animate({ right: "0px" }, 500);
          k = 1;
        } else if (k == 1) {
          $(".carbox").animate({ right: "-220px" }, 500);
          k = 0;
        }
      });
      $("#par_list #box li p.jg span").click(function() {
        var img = $(this)
          .parent()
          .siblings("img")
          .attr("src");
        console.log(img);

        var text = $(this)
          .parent()
          .siblings("p.title")
          .html();
        console.log(text);
        var money = $(this)
          .siblings("font")
          .html();
        console.log(money);

        $(".con").append("");
        play(event);
      });
      //抛物线函数
      function play(event) {
        var s_left = event.clientX; //获取鼠标左边的位置
        var s_top = event.clientY; //获取鼠标左边的位置
        var e_left = $(".carbox .left span").offset().left;
        var e_top = $(".carbox .left span").offset().top;
        var _this = $(event.target); //当前到点击的js对象
        var img = _this
          .parent()
          .siblings("img")
          .attr("src");
        var flyer = $(
          "<img src='" + img + "' width='50' style='border-radius:50%'/>"
        ); //创建图片对象

        flyer.fly({
          start: {
            left: s_left,
            top: s_top
          },
          end: {
            left: e_left,
            top: e_top
          },
          onEnd: function() {
            flyer.fadeOut("slow", function() {
              $(this).remove();
            });
          }
        });
      }
    </script>
  </body>
</html>
